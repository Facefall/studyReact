{"ast":null,"code":"var _jsxFileName = \"/Users/sky/project/studyReact/10-react-router-dom/src/component/newsdetails.jsx\";\nimport React, { Component } from 'react';\nimport Url from \"url\";\n\nclass Newsdetails extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      test: 1\n    };\n  }\n\n  componentWillMount() {\n    this.onOff = true;\n\n    if (this.onOff) {\n      setTimeout(() => {\n        this.setState({\n          test: 2\n        });\n      }, 1000);\n    }\n  }\n\n  componentDidMount() {// this.setState({\n    //     test:23\n    // })\n\n    /*\n     因为setState是异步的\n    有延时\n    所以当该组件被挂载的时候\n    会延迟更新state\n     而如果此时用户切换组件\n    则组件被销毁\n    会抛出警告,无法更改以及被销毁组件的state\n    //解决方法\n     */\n  }\n\n  componentWillUnmount() {\n    this.setState = () => {\n      //不会更新state\n      return false;\n    };\n  }\n\n  render() {\n    // const id = Url.parse(this.props.location.search,true).query.id;\n    //parse true -> query 得到get键值对\n    console.log(Url.parse(this.props.location.search, true)); // const id = this.props.location.search;\n    // console.log(this.props);\n    // console.log(this.props.location);\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"news detail\", React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), id);\n  }\n\n}\n\nexport default Newsdetails;","map":{"version":3,"sources":["/Users/sky/project/studyReact/10-react-router-dom/src/component/newsdetails.jsx"],"names":["React","Component","Url","Newsdetails","state","test","componentWillMount","onOff","setTimeout","setState","componentDidMount","componentWillUnmount","render","console","log","parse","props","location","search","id"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,GAAP,MAAgB,KAAhB;;AAIA,MAAMC,WAAN,SAA0BF,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAChCG,KADgC,GACxB;AACJC,MAAAA,IAAI,EAAC;AADD,KADwB;AAAA;;AAKhCC,EAAAA,kBAAkB,GAAG;AACjB,SAAKC,KAAL,GAAa,IAAb;;AACA,QAAI,KAAKA,KAAT,EAAe;AACXC,MAAAA,UAAU,CAAC,MAAI;AACX,aAAKC,QAAL,CAAc;AACVJ,UAAAA,IAAI,EAAC;AADK,SAAd;AAGH,OAJS,EAIR,IAJQ,CAAV;AAKH;AAEJ;;AAEDK,EAAAA,iBAAiB,GAAG,CAChB;AACA;AACA;;AACA;;;;;;;;;;AAaH;;AACDC,EAAAA,oBAAoB,GAAG;AACnB,SAAKF,QAAL,GAAgB,MAAM;AAAO;AACzB,aAAO,KAAP;AACH,KAFD;AAIH;;AAEDG,EAAAA,MAAM,GAAG;AACL;AACA;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYZ,GAAG,CAACa,KAAJ,CAAU,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,MAA9B,EAAqC,IAArC,CAAZ,EAHK,CAIL;AACA;AACA;;AACA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGKC,EAHL,CADJ;AAOH;;AAxD+B;;AA2DpC,eAAehB,WAAf","sourcesContent":["import React, {Component} from 'react';\nimport Url from \"url\";\n\n\n\nclass Newsdetails extends Component {\n    state = {\n        test:1\n    };\n\n    componentWillMount() {\n        this.onOff = true;\n        if (this.onOff){\n            setTimeout(()=>{\n                this.setState({\n                    test:2\n                })\n            },1000)\n        }\n\n    }\n\n    componentDidMount() {\n        // this.setState({\n        //     test:23\n        // })\n        /*\n\n        因为setState是异步的\n        有延时\n        所以当该组件被挂载的时候\n        会延迟更新state\n\n        而如果此时用户切换组件\n        则组件被销毁\n        会抛出警告,无法更改以及被销毁组件的state\n        //解决方法\n\n        */\n    }\n    componentWillUnmount() {\n        this.setState = () => {      //不会更新state\n            return false\n        }\n\n    }\n\n    render() {\n        // const id = Url.parse(this.props.location.search,true).query.id;\n        //parse true -> query 得到get键值对\n        console.log(Url.parse(this.props.location.search,true));\n        // const id = this.props.location.search;\n        // console.log(this.props);\n        // console.log(this.props.location);\n        return (\n            <div>\n                news detail\n                <hr/>\n                {id}\n            </div>\n        );\n    }\n}\n\nexport default Newsdetails;"]},"metadata":{},"sourceType":"module"}
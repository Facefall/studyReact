{"ast":null,"code":"var _jsxFileName = \"/Users/sky/project/studyReact/10-react-router-dom/src/component/newsdetails.jsx\";\nimport React, { Component } from 'react'; // import Url from \"url\";\n\nclass Newsdetails extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      test: 1\n    };\n  }\n\n  // componentWillMount() {\n  //     this.onOff = true;\n  //     if (this.onOff){\n  //         setTimeout(()=>{\n  //             this.setState({\n  //                 test:2\n  //             })\n  //         },1000)\n  //     }\n  //\n  // }\n  componentDidMount() {// this.setState({\n    //     test:23\n    // })\n\n    /*\n     因为setState是异步的\n    有延时\n    所以当该组件被挂载的时候\n    会延迟更新state\n     而如果此时用户切换组件\n    则组件被销毁\n    会抛出警告,无法更改以及被销毁组件的state\n    //解决方法\n     */\n  }\n\n  componentWillUnmount() {\n    this.setState = () => {\n      //不会更新state\n      return false;\n    };\n  }\n\n  render() {\n    // const id = Url.parse(this.props.location.search,true).query.id;\n    //parse true -> query 得到get键值对\n    // const id = this.props.location.search;\n    // console.log(this.props.location);\n    const id = this.props.match.params.id;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"news detail\", React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), id || \"新闻首页\");\n  }\n\n}\n\nexport default Newsdetails;","map":{"version":3,"sources":["/Users/sky/project/studyReact/10-react-router-dom/src/component/newsdetails.jsx"],"names":["React","Component","Newsdetails","state","test","componentDidMount","componentWillUnmount","setState","render","id","props","match","params"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B,C,CACA;;AAEA,MAAMC,WAAN,SAA0BD,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAChCE,KADgC,GACxB;AACJC,MAAAA,IAAI,EAAC;AADD,KADwB;AAAA;;AAKhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAC,EAAAA,iBAAiB,GAAG,CAChB;AACA;AACA;;AACA;;;;;;;;;;AAaH;;AAEDC,EAAAA,oBAAoB,GAAG;AACnB,SAAKC,QAAL,GAAgB,MAAM;AAAO;AACzB,aAAO,KAAP;AACH,KAFD;AAIH;;AAEDC,EAAAA,MAAM,GAAG;AACL;AACA;AACA;AACA;AACA,UAAMC,EAAE,GAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,EAAnC;AACA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAIQA,EAAE,IAAK,MAJf,CADJ;AASH;;AA1D+B;;AA6DpC,eAAeP,WAAf","sourcesContent":["import React, {Component} from 'react';\n// import Url from \"url\";\n\nclass Newsdetails extends Component {\n    state = {\n        test:1\n    };\n\n    // componentWillMount() {\n    //     this.onOff = true;\n    //     if (this.onOff){\n    //         setTimeout(()=>{\n    //             this.setState({\n    //                 test:2\n    //             })\n    //         },1000)\n    //     }\n    //\n    // }\n\n    componentDidMount() {\n        // this.setState({\n        //     test:23\n        // })\n        /*\n\n        因为setState是异步的\n        有延时\n        所以当该组件被挂载的时候\n        会延迟更新state\n\n        而如果此时用户切换组件\n        则组件被销毁\n        会抛出警告,无法更改以及被销毁组件的state\n        //解决方法\n\n        */\n    }\n\n    componentWillUnmount() {\n        this.setState = () => {      //不会更新state\n            return false\n        }\n\n    }\n\n    render() {\n        // const id = Url.parse(this.props.location.search,true).query.id;\n        //parse true -> query 得到get键值对\n        // const id = this.props.location.search;\n        // console.log(this.props.location);\n        const id = this.props.match.params.id;\n        return (\n            <div>\n                news detail\n                <hr/>\n                {\n                    id  || \"新闻首页\"\n                }\n            </div>\n        );\n    }\n}\n\nexport default Newsdetails;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/sky/project/studyReact/10-react-router-dom/src/component/newsdetails.jsx\";\nimport React, { Component } from 'react'; // import Url from \"url\";\n\nclass Newsdetails extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      test: 1\n    };\n  }\n\n  componentWillMount() {\n    this.onOff = true;\n\n    if (this.onOff) {\n      setTimeout(() => {\n        this.setState({\n          test: 2\n        });\n      }, 1000);\n    }\n  }\n\n  componentDidMount() {// this.setState({\n    //     test:23\n    // })\n\n    /*\n     因为setState是异步的\n    有延时\n    所以当该组件被挂载的时候\n    会延迟更新state\n     而如果此时用户切换组件\n    则组件被销毁\n    会抛出警告,无法更改以及被销毁组件的state\n    //解决方法\n     */\n  }\n\n  componentWillUnmount() {\n    this.state = () => {\n      //不会更新state\n      return false;\n    };\n  }\n\n  render() {\n    // const id = Url.parse(this.props.location.search,true).query.id;\n    //parse true -> query 得到get键值对\n    // console.log(url);\n    // const id = this.props.location.search;\n    // console.log(this.props);\n    // console.log(this.props.location);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"news detail\", React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), id);\n  }\n\n}\n\nexport default Newsdetails;","map":{"version":3,"sources":["/Users/sky/project/studyReact/10-react-router-dom/src/component/newsdetails.jsx"],"names":["React","Component","Newsdetails","state","test","componentWillMount","onOff","setTimeout","setState","componentDidMount","componentWillUnmount","render","id"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B,C,CACA;;AAIA,MAAMC,WAAN,SAA0BD,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAChCE,KADgC,GACxB;AACJC,MAAAA,IAAI,EAAC;AADD,KADwB;AAAA;;AAKhCC,EAAAA,kBAAkB,GAAG;AACjB,SAAKC,KAAL,GAAa,IAAb;;AACA,QAAI,KAAKA,KAAT,EAAe;AACXC,MAAAA,UAAU,CAAC,MAAI;AACX,aAAKC,QAAL,CAAc;AACVJ,UAAAA,IAAI,EAAC;AADK,SAAd;AAGH,OAJS,EAIR,IAJQ,CAAV;AAKH;AAEJ;;AAEDK,EAAAA,iBAAiB,GAAG,CAChB;AACA;AACA;;AACA;;;;;;;;;;AAaH;;AACDC,EAAAA,oBAAoB,GAAG;AACnB,SAAKP,KAAL,GAAa,MAAI;AAAO;AACpB,aAAO,KAAP;AACH,KAFD;AAIH;;AAEDQ,EAAAA,MAAM,GAAG;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGKC,EAHL,CADJ;AAOH;;AAxD+B;;AA2DpC,eAAeV,WAAf","sourcesContent":["import React, {Component} from 'react';\n// import Url from \"url\";\n\n\n\nclass Newsdetails extends Component {\n    state = {\n        test:1\n    };\n\n    componentWillMount() {\n        this.onOff = true;\n        if (this.onOff){\n            setTimeout(()=>{\n                this.setState({\n                    test:2\n                })\n            },1000)\n        }\n\n    }\n\n    componentDidMount() {\n        // this.setState({\n        //     test:23\n        // })\n        /*\n\n        因为setState是异步的\n        有延时\n        所以当该组件被挂载的时候\n        会延迟更新state\n\n        而如果此时用户切换组件\n        则组件被销毁\n        会抛出警告,无法更改以及被销毁组件的state\n        //解决方法\n\n        */\n    }\n    componentWillUnmount() {\n        this.state = ()=>{      //不会更新state\n            return false\n        }\n\n    }\n\n    render() {\n        // const id = Url.parse(this.props.location.search,true).query.id;\n        //parse true -> query 得到get键值对\n        // console.log(url);\n        // const id = this.props.location.search;\n        // console.log(this.props);\n        // console.log(this.props.location);\n        return (\n            <div>\n                news detail\n                <hr/>\n                {id}\n            </div>\n        );\n    }\n}\n\nexport default Newsdetails;"]},"metadata":{},"sourceType":"module"}